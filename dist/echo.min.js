/** 
 * echo.js by Jacob Bloom
 * This software is provided as-is, yadda yadda yadda
 */
!function(){"use strict";var e="browser";if(void 0!==typeof process)try{e=process.stdout.isTTY&&process.stdout.getColorDepth()>=4?"ansi":"off"}catch(e){}var r={colorMode:e,bracketNotationOptional:!0,constructorParensOptional:!0,parensOptional:!0,stringDelimiter:"'",theme:"undefined"!=typeof navigator&&navigator.userAgent.includes("Firefox")?"firefox":"chrome",autoLog:!0};function t(e,r){return Object.defineProperty?Object.defineProperty(e,"raw",{value:r}):e.raw=r,e}var o={undefined:"undefined",null:"null",true:"boolean",false:"boolean",Infinity:"keyword","-Infinity":"keyword",NaN:"keyword"};function n(e){var t=e.match("\n")?"`":r.stringDelimiter,o=new RegExp(t,"g");return t+e.replace(o,"\\"+t)+t}function a(e){return e[0]&&Array.isArray(e[0])&&Array.isArray(e[0].raw)}function l(e){for(var r=e[0].raw,t=e.slice(1),o={value:"`"+r[0],type:"string"},n=[o],a=0;a<t.length;a++)o.value+="${",n.push.apply(n,s([t[a]])),o={value:"}"+r[a+1],type:"string"},n.push(o);return o.value+="`",n}var i=function(e){return{value:e[0],type:"operator"}},c=function(e){return{value:e[0],type:"keyword"}},u=function(){return{value:" ",type:"default"}};function s(e){var r=[];return e.forEach((function(a,l){if(a&&a._self)r.push.apply(r,$(a._self.stack));else switch(typeof a){case"string":r.push({value:n(a),type:"string"});break;case"function":a.name?r.push({value:a.name,type:"variable"}):r.push({value:String(a),type:"default"});break;case"object":if(a){var c=a.__proto__.name||a.constructor.name;Array.isArray(a)?r.push.apply(r,[i(p||(p=t(["["],["["])))].concat(s(a),[i(f||(f=t(["]"],["]"])))])):c&&"Object"!=c?r.push({value:c+" {}",type:"object"}):r.push({value:"{}",type:"object"})}else r.push({value:"null",type:"null"});break;case"bigint":r.push({value:String(a)+"n",type:"number"});break;default:o[a]?r.push({value:String(a),type:o[a]}):r.push({value:String(a),type:typeof a})}l<e.length-1&&r.push(i(d||(d=t([","],[","]))),u())})),r}var p,f,d,y,v,b,g,h,m,k,w,j,x,_,O,A,P,S,N,E,T=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;function $(e){for(var p=[],f=0;f<e.length;f++){var d=f>0?e[f-1].type:"",$=e[f];switch($.type){case"get":if(p.length){var D=void 0;D=o[$.identifier]?{value:$.identifier,type:o[$.identifier]}:Number.isNaN(Number($.identifier))?r.bracketNotationOptional&&T.test($.identifier)?{value:$.identifier,type:"property"}:{value:n($.identifier),type:"string"}:{value:$.identifier,type:"number"},r.parensOptional&&"construct"!==d||(p=[i(y||(y=t(["("],["("])))].concat(p,[i(v||(v=t([")"],[")"])))])),p="property"===D.type?p.concat([i(b||(b=t(["."],["."]))),D]):p.concat([i(g||(g=t(["["],["["]))),D,i(h||(h=t(["]"],["]"])))])}else p=[{value:$.identifier,type:"variable"}];break;case"construct":var M=[];r.constructorParensOptional&&!$.args.length||(M=[i(m||(m=t(["("],["("])))].concat(s($.args),[i(k||(k=t([")"],[")"])))])),p=r.parensOptional&&"apply"!==d?[c(w||(w=t(["new"],["new"]))),u()].concat(p,M):[c(j||(j=t(["new"],["new"]))),u(),i(x||(x=t(["("],["("])))].concat(p,[i(_||(_=t([")"],[")"])))],M);break;case"apply":p=a($.args)?p.concat(l($.args)):r.parensOptional&&"construct"!==d?p.concat([i(N||(N=t(["("],["("])))],s($.args),[i(E||(E=t([")"],[")"])))]):[i(O||(O=t(["("],["("])))].concat(p,[i(A||(A=t([")"],[")"]))),i(P||(P=t(["("],["("])))],s($.args),[i(S||(S=t([")"],[")"])))])}}return p}var D="[0m",M="[34m",z="[35m",I={chrome:{browser:{keyword:"color: hsl(310, 86%, 36%)",number:"color: hsl(248, 100%, 41%)",string:"color: hsl(1, 80%, 43%)",boolean:"color: hsl(310, 86%, 36%)",object:"color: black",null:"color: hsl(310, 86%, 36%)",undefined:"color: hsl(310, 86%, 36%)",operator:"color: black",variable:"color: black",property:"color: black",default:"color: black"},ansi:{keyword:z,number:M,string:"[31m",boolean:z,object:D,null:z,undefined:z,operator:D,variable:D,property:D,default:D}},firefox:{browser:{keyword:"color: #dd00a9",number:"color: #30a",string:"color: #30a",boolean:"color: #dd00a9",object:"color: black",null:"color: #dd00a9",undefined:"color: #dd00a9",operator:"color: black",variable:"color: #8000d7",property:"color: #085;",default:"color: black"},ansi:{keyword:z,number:M,string:M,boolean:z,object:D,null:z,undefined:z,operator:D,variable:M,property:"[32m",default:D}}};var L=["render","options","then","toString","_self","valueOf","constructor","prototype","__proto__"],Z=void 0!==typeof process?Symbol.for("nodejs.util.inspect.custom"):null,C={get:function(e,r){return"symbol"==typeof r||L.includes(r)?("options"==r&&(e.stack=[]),e[r]):(e.stack.push({type:"get",identifier:String(r)}),e.proxy)},construct:function(e,r){return e.stack.push({type:"construct",args:r}),e.proxy},apply:function(e,r,t){return e.stack.push({type:"apply",args:t}),e.proxy}};function F(){var e=function(){};return e.stack=[{type:"get",identifier:"Echo"}],e._self=e,e.render=function(){return function(e){var t={tokens:e,plaintext:e.map((function(e){return"string"==typeof e?e:e.value})).join(""),formatted:null};if("off"===r.colorMode)t.formatted=[t.plaintext];else if("browser"===r.colorMode){for(var o=I[r.theme].browser,n="",a=[],l=void 0,i=0,c=e;i<c.length;i++){var u=o[(y=c[i]).type]||o.default;u!==l&&(n+="%c",a.push(u)),n+=y.value.replace(/%/g,"%%"),l=u}t.formatted=[n].concat(a)}else{o=I[r.theme].ansi;for(var s="",p=void 0,f=0,d=e;f<d.length;f++){var y,v=o[(y=d[f]).type]||o.default;v!==p&&(s+=v),s+=y.value,p=v}s+="[0m",t.formatted=[s]}return t}($(e.stack))},e.then=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return Promise.prototype.then.apply(Promise.resolve(e.render()),r)},e.toString=function(){return e.render().plaintext},e[Symbol.toPrimitive]=function(){return e.render().plaintext},Z&&(e[Z]=function(){return e.render().formatted[0]}),e.options=r,e.proxy=new Proxy(e,C),e}var R=0,U=0,Y=[];!function(e,r){var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:null;if(null===t)throw new Error("Unable to locate global object");Object.defineProperty(t,e,{get:r})}("Echo",(function(){var e=F();return r.autoLog&&(R++,setTimeout((function(){var r=e.render();r.tokens.length>U&&(U=r.tokens.length,Y=r.formatted),0===--R&&U>0&&(console.log.apply(console,Y),U=0,Y=[])}),0)),e.proxy}))}();
