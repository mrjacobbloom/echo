/** 
 * echo.js by Jacob Bloom
 * This software is provided as-is, yadda yadda yadda
 */
!function(){"use strict";var e="browser";if(void 0!==typeof process)try{e=process.stdout.isTTY&&process.stdout.getColorDepth()>=4?"ansi":"off"}catch(e){}var r={colorMode:e,bracketNotationOptional:!0,constructorParensOptional:!0,parensOptional:!0,stringDelimiter:"'",theme:"undefined"!=typeof navigator&&navigator.userAgent.includes("Firefox")?"firefox":"chrome",autoLog:!0};function t(e,r){return Object.defineProperty?Object.defineProperty(e,"raw",{value:r}):e.raw=r,e}var o={undefined:"undefined",null:"null",true:"boolean",false:"boolean",Infinity:"keyword","-Infinity":"keyword",NaN:"keyword"};function n(e){var t=e.match("\n")?"`":r.stringDelimiter,o=new RegExp(t,"g");return t+e.replace(o,"\\"+t)+t}function a(e){return e[0]&&Array.isArray(e[0])&&Array.isArray(e[0].raw)}function l(e){for(var r=e[0].raw,t=e.slice(1),o={value:"`"+r[0],type:"string"},n=[o],a=0;a<t.length;a++)o.value+="${",n.push.apply(n,p(t[a])),o={value:"}"+r[a+1],type:"string"},n.push(o);return o.value+="`",n}var i=function(e){return{value:e[0],type:"operator"}},u=function(e){return{value:e[0],type:"keyword"}},c=function(){return{value:" ",type:"default"}};function p(e){if(e&&e._self)return D(e);var r=[];switch(typeof e){case"string":r.push({value:n(e),type:"string"});break;case"function":e.name?r.push({value:e.name,type:"variable"}):r.push({value:String(e),type:"default"});break;case"object":if(e){var a=e.__proto__.name||e.constructor.name;Array.isArray(e)?r.push.apply(r,[i(f||(f=t(["["],["["])))].concat(s(e),[i(d||(d=t(["]"],["]"])))])):a&&"Object"!=a?r.push({value:a+" {}",type:"object"}):r.push({value:"{}",type:"object"})}else r.push({value:"null",type:"null"});break;case"bigint":r.push({value:String(e)+"n",type:"number"});break;default:o[e]?r.push({value:String(e),type:o[e]}):r.push({value:String(e),type:typeof e})}return r}function s(e){var r=[];return e.forEach((function(o,n){r.push.apply(r,p(o)),n<e.length-1&&r.push(i(y||(y=t([","],[","]))),c())})),r}var f,d,y,v,b,g,h,m,k,w,j,x,_,O,A,P,S,N,E,T,$=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;function D(e){for(var p=e._self.stack,f=[],d=0;d<p.length;d++){var y=d>0?p[d-1].type:"",D=p[d];switch(D.type){case"get":if(f.length){var M=void 0;M=o[D.identifier]?{value:D.identifier,type:o[D.identifier]}:Number.isNaN(Number(D.identifier))?r.bracketNotationOptional&&$.test(D.identifier)?{value:D.identifier,type:"property"}:{value:n(D.identifier),type:"string"}:{value:D.identifier,type:"number"},r.parensOptional&&"construct"!==y||(f=[i(v||(v=t(["("],["("])))].concat(f,[i(b||(b=t([")"],[")"])))])),f="property"===M.type?f.concat([i(g||(g=t(["."],["."]))),M]):f.concat([i(h||(h=t(["["],["["]))),M,i(m||(m=t(["]"],["]"])))])}else f=[{value:D.identifier,type:"variable"}];break;case"construct":var z=[];r.constructorParensOptional&&!D.args.length||(z=[i(k||(k=t(["("],["("])))].concat(s(D.args),[i(w||(w=t([")"],[")"])))])),f=r.parensOptional&&"apply"!==y?[u(j||(j=t(["new"],["new"]))),c()].concat(f,z):[u(x||(x=t(["new"],["new"]))),c(),i(_||(_=t(["("],["("])))].concat(f,[i(O||(O=t([")"],[")"])))],z);break;case"apply":f=a(D.args)?f.concat(l(D.args)):r.parensOptional&&"construct"!==y?f.concat([i(E||(E=t(["("],["("])))],s(D.args),[i(T||(T=t([")"],[")"])))]):[i(A||(A=t(["("],["("])))].concat(f,[i(P||(P=t([")"],[")"]))),i(S||(S=t(["("],["("])))],s(D.args),[i(N||(N=t([")"],[")"])))])}}return f}var M="[0m",z="[34m",I="[35m",L={chrome:{browser:{keyword:"color: hsl(310, 86%, 36%)",number:"color: hsl(248, 100%, 41%)",string:"color: hsl(1, 80%, 43%)",boolean:"color: hsl(310, 86%, 36%)",object:"color: black",null:"color: hsl(310, 86%, 36%)",undefined:"color: hsl(310, 86%, 36%)",operator:"color: black",variable:"color: black",property:"color: black",default:"color: black"},ansi:{keyword:I,number:z,string:"[31m",boolean:I,object:M,null:I,undefined:I,operator:M,variable:M,property:M,default:M}},firefox:{browser:{keyword:"color: #dd00a9",number:"color: #30a",string:"color: #30a",boolean:"color: #dd00a9",object:"color: black",null:"color: #dd00a9",undefined:"color: #dd00a9",operator:"color: black",variable:"color: #8000d7",property:"color: #085;",default:"color: black"},ansi:{keyword:I,number:z,string:z,boolean:I,object:M,null:I,undefined:I,operator:M,variable:z,property:"[32m",default:M}}};var Z=["render","options","then","toString","_self","valueOf","constructor","prototype","__proto__"],C=void 0!==typeof process?Symbol.for("nodejs.util.inspect.custom"):null,F={get:function(e,r){return"symbol"==typeof r||Z.includes(r)?("options"==r&&(e.stack=[]),e[r]):(e.stack.push({type:"get",identifier:String(r)}),e.proxy)},construct:function(e,r){return e.stack.push({type:"construct",args:r}),e.proxy},apply:function(e,r,t){return e.stack.push({type:"apply",args:t}),e.proxy}};function R(){var e=function(){};return e.stack=[{type:"get",identifier:"Echo"}],e._self=e,e.render=function(){return function(e){var t={tokens:e,plaintext:e.map((function(e){return"string"==typeof e?e:e.value})).join(""),formatted:null};if("off"===r.colorMode)t.formatted=[t.plaintext];else if("browser"===r.colorMode){for(var o=L[r.theme].browser,n="",a=[],l=void 0,i=0,u=e;i<u.length;i++){var c=o[(y=u[i]).type]||o.default;c!==l&&(n+="%c",a.push(c)),n+=y.value.replace(/%/g,"%%"),l=c}t.formatted=[n].concat(a)}else{o=L[r.theme].ansi;for(var p="",s=void 0,f=0,d=e;f<d.length;f++){var y,v=o[(y=d[f]).type]||o.default;v!==s&&(p+=v),p+=y.value,s=v}p+="[0m",t.formatted=[p]}return t}(D(e))},e.then=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return Promise.prototype.then.apply(Promise.resolve(e.render()),r)},e.toString=function(){return e.render().plaintext},e[Symbol.toPrimitive]=function(){return e.render().plaintext},C&&(e[C]=function(){return e.render().formatted[0]}),e.options=r,e.proxy=new Proxy(e,F),e}var U=0,Y=0,q=[];!function(e,r){var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:null;if(null===t)throw new Error("Unable to locate global object");Object.defineProperty(t,e,{get:r})}("Echo",(function(){var e=R();return r.autoLog&&(U++,setTimeout((function(){var r=e.render();r.tokens.length>Y&&(Y=r.tokens.length,q=r.formatted),0===--U&&Y>0&&(console.log.apply(console,q),Y=0,q=[])}),0)),e.proxy}))}();
