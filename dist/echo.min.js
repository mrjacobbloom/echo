/** 
 * echo.js by Jacob Bloom
 * This software is provided as-is, yadda yadda yadda
 */
!function(){"use strict";var e="browser";if(void 0!==typeof process)try{e=process.stdout.isTTY&&process.stdout.getColorDepth()>=4?"ansi":"off"}catch(e){}var t={colorMode:e,bracketNotationOptional:!0,constructorParensOptional:!0,parensOptional:!0,stringDelimiter:"'",theme:"undefined"!=typeof navigator&&navigator.userAgent.includes("Firefox")?"firefox":"chrome",output:"log"};function r(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var o={undefined:"undefined",null:"null",true:"boolean",false:"boolean",Infinity:"keyword","-Infinity":"keyword",NaN:"keyword"};function n(e){var r=e.match("\n")?"`":t.stringDelimiter,o=new RegExp(r,"g");return r+e.replace(o,"\\"+r)+r}function a(e){return e[0]&&Array.isArray(e[0])&&Array.isArray(e[0].raw)}function l(e){for(var t=e[0].raw,r=e.slice(1),o={value:"`"+t[0],type:"string"},n=[o],a=0;a<r.length;a++)o.value+="${",n.push.apply(n,s([r[a]])),o={value:"}"+t[a+1],type:"string"},n.push(o);return o.value+="`",n}var i=function(e){return{value:e[0],type:"operator"}},u=function(e){return{value:e[0],type:"keyword"}},c=function(){return{value:" ",type:"default"}};function s(e){var t=[];return e.forEach((function(a,l){if(a&&a._self)t.push.apply(t,$(a._self.stack));else switch(typeof a){case"string":t.push({value:n(a),type:"string"});break;case"function":a.name?t.push({value:a.name,type:"variable"}):t.push({value:String(a),type:"default"});break;case"object":if(a){var u=a.__proto__.name||a.constructor.name;Array.isArray(a)?t.push.apply(t,[i(p||(p=r(["["],["["])))].concat(s(a),[i(f||(f=r(["]"],["]"])))])):u&&"Object"!=u?t.push({value:u+" {}",type:"object"}):t.push({value:"{}",type:"object"})}else t.push({value:"null",type:"null"});break;case"bigint":t.push({value:String(a)+"n",type:"number"});break;default:o[a]?t.push({value:String(a),type:o[a]}):t.push({value:String(a),type:typeof a})}l<e.length-1&&t.push(i(d||(d=r([","],[","]))),c())})),t}var p,f,d,y,v,b,g,h,m,k,w,j,x,_,O,P,A,S,N,E,T=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;function $(e){for(var p=[],f=!1,d=0;d<e.length;d++){var $=d>0?e[d-1].type:"",D=e[d];switch(D.type){case"get":if(p.length){var M=void 0;M=o[D.identifier]?{value:D.identifier,type:o[D.identifier]}:Number.isNaN(Number(D.identifier))?t.bracketNotationOptional&&T.test(D.identifier)?{value:D.identifier,type:"property"}:{value:n(D.identifier),type:"string"}:{value:D.identifier,type:"number"};var z="get"!==$;"("===p[0].value&&")"===p[p.length-1].value&&(z=!1),t.parensOptional&&!z||(p=[i(y||(y=r(["("],["("])))].concat(p,[i(v||(v=r([")"],[")"])))])),p="property"===M.type?p.concat([i(b||(b=r(["."],["."]))),M]):p.concat([i(g||(g=r(["["],["["]))),M,i(h||(h=r(["]"],["]"])))])}else p=[{value:D.identifier,type:"variable"}];break;case"construct":var I=[];t.constructorParensOptional&&!D.args.length||(I=[i(m||(m=r(["("],["("])))].concat(s(D.args),[i(k||(k=r([")"],[")"])))])),t.parensOptional&&!f?(p=[u(w||(w=r(["new"],["new"]))),c()].concat(p,I),I.length&&(f=!0)):(p=[u(j||(j=r(["new"],["new"]))),c(),i(x||(x=r(["("],["("])))].concat(p,[i(_||(_=r([")"],[")"])))],I),f=I.length>1);break;case"apply":a(D.args)?p=p.concat(l(D.args)):(p="construct"===$?[i(O||(O=r(["("],["("])))].concat(p,[i(P||(P=r(["("],["("])))],s(D.args),[i(A||(A=r([")"],[")"]))),i(S||(S=r([")"],[")"])))]):p.concat([i(N||(N=r(["("],["("])))],s(D.args),[i(E||(E=r([")"],[")"])))]),f=!0)}}return p}var D="[0m",M="[34m",z="[35m",I={chrome:{browser:{keyword:"color: hsl(310, 86%, 36%)",number:"color: hsl(248, 100%, 41%)",string:"color: hsl(1, 80%, 43%)",boolean:"color: hsl(310, 86%, 36%)",object:"color: black",null:"color: hsl(310, 86%, 36%)",undefined:"color: hsl(310, 86%, 36%)",operator:"color: black",variable:"color: black",property:"color: black",default:"color: black"},ansi:{keyword:z,number:M,string:"[31m",boolean:z,object:D,null:z,undefined:z,operator:D,variable:D,property:D,default:D}},firefox:{browser:{keyword:"color: #dd00a9",number:"color: #30a",string:"color: #30a",boolean:"color: #dd00a9",object:"color: black",null:"color: #dd00a9",undefined:"color: #dd00a9",operator:"color: black",variable:"color: #8000d7",property:"color: #085;",default:"color: black"},ansi:{keyword:z,number:M,string:M,boolean:z,object:D,null:z,undefined:z,operator:D,variable:M,property:"[32m",default:D}}};function Z(e){var r={tokens:e,plaintext:e.map((function(e){return"string"==typeof e?e:e.value})).join(""),formatted:null};if("off"===t.colorMode)r.formatted=[r.plaintext];else if("browser"===t.colorMode){for(var o=I[t.theme].browser,n="",a=[],l=0,i=e;l<i.length;l++){n+="%c"+(p=i[l]).value.replace(/%/g,"%%"),a.push(o[p.type]||o.default)}r.formatted=[n].concat(a)}else{o=I[t.theme].ansi;for(var u="",c=0,s=e;c<s.length;c++){var p;u+=(o[(p=s[c]).type]||o.default)+p.value}u+="[0m",r.formatted=[u]}return r}var C=["options","then","toString","_self","valueOf","constructor","prototype","__proto__"],F=void 0!==typeof process?Symbol.for("nodejs.util.inspect.custom"):null,R={get:function(e,t){return"symbol"==typeof t||C.includes(t)?("options"==t&&(e.stack=[]),e[t]):(e.stack.push({type:"get",identifier:String(t)}),e.proxy)},construct:function(e,t){return e.stack.push({type:"construct",args:t}),e.proxy},apply:function(e,t,r){return e.stack.push({type:"apply",args:r}),e.proxy}};var U=0,Y=[];!function(e,t){var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:null;if(null===r)throw new Error("Unable to locate global object");Object.defineProperty(r,e,{get:t})}("Echo",(function(){var e=function(){var e=function(){};return e.stack=[],e._self=e,e.render=null,e.toString=function(){return e.render().plaintext},e[Symbol.toPrimitive]=function(){return e.render().plaintext},F&&(e[F]=function(){return e.render().formatted[0]}),Object.defineProperty(e,"then",{get:function(){if("promise"===t.output){var r=Promise.resolve(e.render());return Promise.prototype.then.bind(r)}return R.get(e,"then",null)}}),e.options=t,e.proxy=new Proxy(e,R),e}();return e.stack.push({type:"get",identifier:"Echo"}),e.render=function(){return Z($(e.stack))},"log"===t.output&&(U++,setTimeout((function(){var t=$(e.stack);if(t.length>Y.length&&(Y=t),0===--U&&Y.length>0){var r=Z(Y).formatted;console.log.apply(console,r),Y=[]}}),0)),e.proxy}))}();
