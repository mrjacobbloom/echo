/** 
 * echo.js by Jacob Bloom
 * This software is provided as-is, yadda yadda yadda
 */
!function(){"use strict";var e="browser";if(void 0!==typeof process)try{e=process.stdout.isTTY&&process.stdout.getColorDepth()>=4?"ansi":"off"}catch(e){}var t={colorMode:e,bracketNotationOptional:!0,constructorParensOptional:!0,parensOptional:!0,stringDelimiter:"'",theme:"undefined"!=typeof navigator&&navigator.userAgent.includes("Firefox")?"firefox":"chrome",output:"log"};function r(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var o={undefined:"undefined",null:"null",true:"boolean",false:"boolean",Infinity:"keyword","-Infinity":"keyword",NaN:"keyword"};function n(e){var r=t.stringDelimiter,o=new RegExp(r,"g");return r+e.replace(o,"\\"+r)+r}var a={operator:function(e){return{value:e[0],type:"operator"}},keyword:function(e){return{value:e[0],type:"keyword"}},default:function(e){return{value:e[0],type:"default"}},space:function(){return{value:" ",type:"default"}}};function i(e){var t=[];return e.forEach(function(i,u){if(i&&i._self)t.push.apply(t,S(i._self.stack));else switch(typeof i){case"string":t.push({value:n(i),type:"string"});break;case"function":i.name?t.push({value:i.name,type:"variable"}):t.push({value:String(i),type:"default"});break;case"object":if(i){var c=i.__proto__.name||i.constructor.name;c&&"Object"!=c?t.push({value:c+" {}",type:"object"}):t.push({value:"{}",type:"object"})}else t.push({value:"null",type:"null"});break;case"bigint":t.push({value:String(i),type:"number"});break;default:o[i]?t.push({value:String(i),type:o[i]}):t.push({value:String(i),type:typeof i})}u<e.length-1&&t.push(a.operator(l||(l=r([","],[","]))),a.space())}),t}var l,u,c,p,s,f,d,y,b,v,g,h,m,k,w,j,O,x,_,P=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;function S(e){for(var l=[],S=0;S<e.length;S++){var N=S>0?e[S-1].type:"",E=e[S];switch(E.type){case"get":l=l.length?o[E.identifier]?l.concat([a.operator(u||(u=r(["["],["["]))),{value:E.identifier,type:o[E.identifier]},a.operator(c||(c=r(["]"],["]"])))]):Number.isNaN(Number(E.identifier))?t.bracketNotationOptional&&P.test(E.identifier)?t.parensOptional&&"get"===N?l.concat([a.operator(y||(y=r(["."],["."]))),{value:E.identifier,type:"property"}]):[a.operator(b||(b=r(["("],["("])))].concat(l,[a.operator(v||(v=r([")"],[")"]))),a.operator(g||(g=r(["."],["."]))),{value:E.identifier,type:"property"}]):l.concat([a.operator(f||(f=r(["["],["["]))),{value:n(E.identifier),type:"string"},a.operator(d||(d=r(["]"],["]"])))]):l.concat([a.operator(p||(p=r(["["],["["]))),{value:E.identifier,type:"number"},a.operator(s||(s=r(["]"],["]"])))]):[{value:E.identifier,type:"variable"}];break;case"construct":var T=[];t.constructorParensOptional&&!E.args.length||(T=[a.operator(h||(h=r(["("],["("])))].concat(i(E.args),[a.operator(m||(m=r([")"],[")"])))])),l=t.parensOptional&&"get"===N&&!l.filter(function(e){return")"===e.value}).length?[a.keyword(k||(k=r(["new"],["new"]))),a.space()].concat(l,T):[a.keyword(w||(w=r(["new"],["new"]))),a.space(),a.operator(j||(j=r(["("],["("])))].concat(l,[a.operator(O||(O=r([")"],[")"])))],T);break;case"apply":l=l.concat([a.operator(x||(x=r(["("],["("])))],i(E.args),[a.operator(_||(_=r([")"],[")"])))])}}return l}var N="[0m",E="[34m",T="[35m",A={chrome:{browser:{keyword:"color: hsl(310, 86%, 36%)",number:"color: hsl(248, 100%, 41%)",string:"color: hsl(1, 80%, 43%)",boolean:"color: hsl(310, 86%, 36%)",object:"color: black",null:"color: hsl(310, 86%, 36%)",undefined:"color: hsl(310, 86%, 36%)",operator:"color: black",variable:"color: black",property:"color: black",default:"color: black"},ansi:{keyword:T,number:E,string:"[31m",boolean:T,object:N,null:T,undefined:T,operator:N,variable:N,property:N,default:N}},firefox:{browser:{keyword:"color: #dd00a9",number:"color: #30a",string:"color: #30a",boolean:"color: #dd00a9",object:"color: black",null:"color: #dd00a9",undefined:"color: #dd00a9",operator:"color: black",variable:"color: #8000d7",property:"color: #085;",default:"color: black"},ansi:{keyword:T,number:E,string:E,boolean:T,object:N,null:T,undefined:T,operator:N,variable:E,property:"[32m",default:N}}};function D(e){var r={tokens:e,plaintext:e.map(function(e){return"string"==typeof e?e:e.value}).join(""),formatted:null};if("off"===t.colorMode)r.formatted=[r.plaintext];else if("browser"===t.colorMode){for(var o=A[t.theme].browser,n="",a=[],i=0,l=e;i<l.length;i++){n+="%c"+(s=l[i]).value,a.push(o[s.type]||o.default)}r.formatted=[n].concat(a)}else{o=A[t.theme].ansi;for(var u="",c=0,p=e;c<p.length;c++){var s;u+=(o[(s=p[c]).type]||o.default)+s.value}u+="[0m",r.formatted=[u]}return r}var M=["options","_self","toString","valueOf","constructor","prototype","__proto__"],$=void 0!==typeof process?Symbol.for("nodejs.util.inspect.custom"):null,z={get:function(e,t){return"symbol"==typeof t||M.includes(t)||"promise"===e.options.output&&"then"===t?("options"==t&&(e.stack=[]),e[t]):(e.stack.push({type:"get",identifier:String(t)}),e.proxy)},construct:function(e,t){return e.stack.push({type:"construct",args:t}),e.proxy},apply:function(e,t,r){return e.stack.push({type:"apply",args:r}),e.proxy}};var I=0,Z=[];!function(e,t){var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:null;if(null===r)throw new Error("Unable to locate global object");Object.defineProperty(r,e,{get:t})}("Echo",function(){var e=function(){var e=function(){};e.stack=[],e._self=e,e.render=null,e.toString=function(){return"toString"===t.output?e.render().plaintext:""};var r=e[Symbol.toPrimitive];if(Object.defineProperty(e,Symbol.toPrimitive,{get:function(){return"toString"===t.output?function(){return e.render().plaintext}:r}}),$){var o=e[$];Object.defineProperty(e,$,{get:function(){return"toString"===t.output?function(){return e.render().formatted[0]}:o}})}return Object.defineProperty(e,"then",{get:function(){if("promise"===t.output){var r=Promise.resolve(e.render());return Promise.prototype.then.bind(r)}return z.get(e,"then",null)}}),e.options=t,e.proxy=new Proxy(e,z),e}();return e.stack.push({type:"get",identifier:"Echo"}),"log"===t.output?(I++,setTimeout(function(){var t=S(e.stack);if(t.length>Z.length&&(Z=t),0===--I&&Z.length>0){var r=D(Z).formatted;console.log.apply(console,r),Z=[]}},0)):e.render=function(){return D(S(e.stack))},e.proxy})}();
