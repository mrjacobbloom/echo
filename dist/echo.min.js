/** 
 * echo.js by Jacob Bloom
 * This software is provided as-is, yadda yadda yadda
 */
!function(){"use strict";var e={alwaysBracketNotation:!1,constructorParensOptional:!0,parensOptional:!0,colorMode:"undefined"==typeof process?"browser":"ansi",stringDelimiter:"'",theme:"undefined"!=typeof navigator&&navigator.userAgent.includes("Firefox")?"firefox":"chrome",output:"log"},t={undefined:"undefined",null:"null",true:"boolean",false:"boolean",Infinity:"keyword","-Infinity":"keyword",NaN:"keyword"};function r(t){var r=e.stringDelimiter,o=new RegExp(r,"g");return r+t.replace(o,"\\"+r)+r}function o(e){var o=[];return e.forEach(function(n,i){if(n&&n._self)o.push.apply(o,a(n._self.stack));else if("string"==typeof n)o.push({value:r(n),type:"string"});else if("function"==typeof n)n.name?o.push({value:n.name,type:"variable"}):o.push({value:String(n),type:"function"});else if("object"==typeof n)if(n){var l=n.__proto__.name||n.constructor.name;l&&"Object"!=l?o.push({value:l+" {}",type:"object"}):o.push({value:"{}",type:"object"})}else o.push({value:"null",type:"null"});else t[n]?o.push({value:String(n),type:t[n]}):o.push({value:String(n),type:typeof n});i<e.length-1&&o.push(","," ")}),o}var n=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/;function a(a){for(var i=[],l=0;l<a.length;l++){var u=l>0?a[l-1].type:"",c=a[l];switch(c.type){case"get":i=i.length?t[c.identifier]?i.concat(["[",{value:c.identifier,type:t[c.identifier]},"]"]):Number.isNaN(Number(c.identifier))?e.alwaysBracketNotation||!n.test(c.identifier)?i.concat(["[",{value:r(c.identifier),type:"string"},"]"]):e.parensOptional&&"get"===u?i.concat([".",{value:c.identifier,type:"property"}]):["("].concat(i,[")",".",{value:c.identifier,type:"property"}]):i.concat(["[",{value:c.identifier,type:"number"},"]"]):[{value:c.identifier,type:"variable"}];break;case"construct":var s=[];e.constructorParensOptional&&!c.args.length||(s=["("].concat(o(c.args),[")"])),i=e.parensOptional&&"get"===u&&!i.includes("(")?["new"," "].concat(i,s):["new"," ","("].concat(i,[")"],s);break;case"apply":i=i.concat(["("],o(c.args),[")"])}}return i}var i="[0m",l="[34m",u="[35m",c={chrome:{browser:{keyword:"color: hsl(310, 86%, 36%)",number:"color: hsl(248, 100%, 41%)",string:"color: hsl(1, 80%, 43%)",boolean:"color: hsl(310, 86%, 36%)",object:"color: black",null:"color: hsl(310, 86%, 36%)",undefined:"color: hsl(310, 86%, 36%)",operator:"color: black",variable:"color: black",property:"color: black",default:"color: black"},ansi:{keyword:u,number:l,string:"[31m",boolean:u,object:i,null:u,undefined:u,operator:i,variable:i,property:i,default:i}},firefox:{browser:{keyword:"color: #dd00a9",number:"color: #30a",string:"color: #30a",boolean:"color: #dd00a9",object:"color: black",null:"color: #dd00a9",undefined:"color: #dd00a9",operator:"color: black",variable:"color: #8000d7",property:"color: #085;",default:"color: black"},ansi:{keyword:u,number:l,string:l,boolean:u,object:i,null:u,undefined:u,operator:i,variable:l,property:"[32m",default:i}}};function s(t){var r={tokens:t,plaintext:t.map(function(e){return"string"==typeof e?e:e.value}).join(""),formatted:null};if("off"===e.colorMode)r.formatted=[r.plaintext];else if("browser"===e.colorMode){for(var o=c[e.theme].browser,n="",a=[],i=0,l=t;i<l.length;i++){if("string"==typeof(f=l[i]))switch(n+="%c"+f,f){case"new":a.push(o.keyword);break;case".":case",":a.push(o.operator);break;default:a.push(o.default)}else n+="%c"+f.value,a.push(o[f.type]||o.default)}r.formatted=[n].concat(a)}else{o=c[e.theme].ansi;for(var u="",s=0,p=t;s<p.length;s++){var f;if("string"==typeof(f=p[s]))switch(f){case"new":u+=o.keyword+f;break;case".":case",":u+=o.operator+f;break;default:u+=o.default+f}else u+=(o[f.type]||o.default)+f.value}u+="[0m",r.formatted=[u]}return r}var p,f=["options","_self","toString","valueOf","constructor","prototype","__proto__"],d=void 0!==typeof process;if(d)try{p=require("util").inspect.custom}catch(e){}var y={get:function(e,t){return"symbol"==typeof t||f.includes(t)||"promise"===e.options.output&&"then"===t?("options"==t&&(e.stack=[]),e[t]):(e.stack.push({type:"get",identifier:String(t)}),e.proxy)},construct:function(e,t){return e.stack.push({type:"construct",args:t}),e.proxy},apply:function(e,t,r){return e.stack.push({type:"apply",args:r}),e.proxy}};var b=0,g=[];!function(e,t){var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:null;if(null===r)throw new Error("Unable to locate global object");Object.defineProperty(r,e,{get:t})}("Echo",function(){var t=function(){var t=function(){};t.stack=[],t._self=t,t.render=null,t.toString=function(){return"toString"===e.output?t.render().plaintext:""};var r=t[Symbol.toPrimitive];if(Object.defineProperty(t,Symbol.toPrimitive,{get:function(){return"toString"===e.output?function(){return t.render().plaintext}:r}}),d){var o=t[p];Object.defineProperty(t,p,{get:function(){return"toString"===e.output?function(){return t.render().formatted[0]}:o}})}return Object.defineProperty(t,"then",{get:function(){if("promise"===e.output){var r=Promise.resolve(t.render());return r.then.bind(r)}}}),t.options=e,t.proxy=new Proxy(t,y),t}();return t.stack.push({type:"get",identifier:"Echo"}),"log"===e.output?(b++,setTimeout(function(){var e=a(t.stack);if(e.length>g.length&&(g=e),0===--b&&g.length>0){var r=s(g).formatted;console.log.apply(console,r),g=[]}},0)):t.render=function(){return s(a(t.stack))},t.proxy})}();
